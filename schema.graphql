type Asset @entity {
  id: ID!
  name: String!
  symbol: String!
  address: String!
  decimals: Int!
}

type ComponentState @entity {
  id: ID!
  setToken: SetToken!
  asset: Asset!
  timestamp: BigInt!
  defaultUnits: BigInt!
  externalUnits: BigInt!
  totalUnits: BigInt!
}

type PortfolioState @entity {
  id: ID!
  setToken: SetToken!
  components: [ComponentState!]!
  timestamp: BigInt!
}

type TotalSupplyState @entity {
  id: ID!
  setToken: SetToken!
  timestamp: BigInt!
  quantity: BigInt!
}

type SetToken @entity {
  id: ID!
  name: String!
  symbol: String!
  address: String!
  inception: BigInt!
  manager: String!
  totalSupply: BigInt!
  totalSupplyStates: [TotalSupplyState!]! @derivedFrom(field: "setToken")
  portfolio: PortfolioState!
  portfolioStates: [PortfolioState!]! @derivedFrom(field: "setToken")
}
